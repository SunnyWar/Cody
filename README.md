# Cody: The AI-Authored Chess Engine

![Cody icon](chesscat256.ico)

Cody is an experimental chess engine where every line of code is generated by AI. The goal is to push LLM-assisted programming and answer one question: how strong of a chess engine can AI build from scratch?

## üöÄ Philosophy

Unlike traditional engines (like Stockfish) or NNUE-based engines tuned by humans, Cody is a "Zero-Human-Code" project.

- **Architecture and logic:** All search algorithms, evaluation functions, and bitboard manipulations are AI-generated.
- **Debugging:** Human intervention is limited to providing error logs back to the AI for self-correction.
- **Goal:** Achieve a competitive ELO rating with a codebase birthed from prompt engineering.

## üõ† Features (Current Status)
*** CURRENTLY NOT WORKING ***
The engine can be used to play chess. That functionss. The problem is the orchestration to get the LLM to try to improve the engine is not working. I've had tried many dozens of iterations of Copilot to try to get it to make an LLM orchestration that will make it work. Unfortunately it often forgets what it's trying to do, generates response after response after response of syntactically wrong code and often claims that it's done when it did nothing.
At this point I have little confident that LLM's can even make a rudimentary set of scripts to interate on the code to improve it.

- **Bitboard representation:** High-performance board state management.
- **UCI protocol support:** Works with standard chess GUIs like Arena, Cute Chess, or Scid vs. PC.
- **Search algorithms:**
  - Negamax with alpha-beta pruning.
  - Iterative deepening.
  - Quiescence search to avoid the horizon effect.
- **Evaluation:** AI-crafted heuristics, including piece-square tables (PST) and material imbalance weights.

## üß† How Cody Learns

Cody uses a recursive feedback loop when the agent attempts a code improvement:

1. **Hypothesize:** The LLM suggests a chess logic improvement (e.g., "Implement Null Move Pruning").
2. **Execute:** The orchestrator applies the patch.
3. **Verify:** The local environment runs `cargo test`.
4. **Refine:** If tests fail, Cody analyzes the compiler error and self-corrects.

## üß™ Orchestrator Setup (OpenAI Agents SDK)

Install the Agents SDK:

```powershell
pip install openai-agents
```

Authenticate with OpenAI:

```powershell
$env:OPENAI_API_KEY = "sk-..."
```

Set GitHub token if you use PR integration:

```powershell
$env:GITHUB_TOKEN = "ghp_..."
```

Configure the orchestrator in `cody-agent/config.json`:

```json
{
   "branch_prefix": "ai-feature-",
   "model": "gpt-5.3-codex",
   "use_local": false,
   "skills": {
      "enabled": ["github_fix_ci", "github_address_comments"],
      "run_timing": "after",
      "ci_log_path": ".orchestrator_logs/ci_failure.txt",
      "pr_comments_path": ".orchestrator_logs/pr_review_comments.json"
   }
}
```

## ‚ñ∂Ô∏è Run the Orchestrator

From the repo root, choose one of the following:

```powershell
./run_orchestrator.ps1
```

```powershell
python .\cody-agent\orchestrator.py
```

## Human TODO Items
0. **Essential baseline functionality - human directs AI to add these features.**
   - 'cargo fmt' after any code changes
   - UCI Command: debug [on | off] 
   - UCI Command: setoption name Hash value <x>
   - UCI Command: setoption name Clear Hash
   - UCI Command: go ponder Starts searching in "hint" mode on the opponent's time.
   - UCI Command: go nodes <x>
   - UCI Command: go mate <x>
   - UCI Command: go searchmoves <move1> ... <moveN> 
   - UCI Command: ponderhit
   - UCI Command: info seldepth <x> (Output command)
   - UCI Command: info nps <x> (Output command)
   - UCI Command: info hashfull <x> (Output command)
1. **PGO optimization**
   - Add a PGO build profile.
   - Add a PGO workflow.
   - Add a PGO training harness.
   - Add a PGO FEN suite.
   - Add a PGO merge rule ("only merge if PGO improves speed").
2. **Parameter tuning**
   - A parameter registry.
   - A tuning harness.
   - A tuning dataset.
   - A tuning workflow.
3. **SPRT testing**
   - Pick a harness.
   - Configure it.
   - Register machines.
4. **Strong AI evaluation (premium models)**
   - Secure funding.
5. **Tune orchestration**
   - Log summary of things tried, only allow retry after signifant code changes

## üõ† License

MIT License. See [LICENSE](LICENSE) for details.
